<xml xmlns="http://www.w3.org/1999/xhtml"><block type="global_declaration" id="$#/Vg.fh@xH`eCB;BL~f" x="0" y="0"><field name="NAME">v</field><value name="VALUE"><block type="math_number" id="`q[2tSPf6mWNX,?gx?}E"><field name="NUM">0</field></block></value></block><block type="global_declaration" id="]XK+FN[rfHmRta?ws%QH" x="0" y="53"><field name="NAME">x</field><value name="VALUE"><block type="lists_create_with" id=")-D`K+3QLrVH9$2K-!y^"><mutation items="0"></mutation></block></value></block><block type="component_event" id="_AXCTx)J=%iSHyIS0Wfh" collapsed="true" x="0" y="106"><mutation component_type="Button" is_generic="false" instance_name="按钮1" event_name="Click"></mutation><field name="COMPONENT_SELECTOR">按钮1</field><statement name="DO"><block type="controls_if" id="m)1{$7L-VJ*fomaU.p@2"><mutation elseif="2" else="1"></mutation><value name="IF0"><block type="text_isEmpty" id="BgX4vO?iHq3aK?_o{CZ3"><value name="VALUE"><block type="component_set_get" id="4NPZj8A1#Q]y=_jE4VVB"><mutation component_type="TextBox" set_or_get="get" property_name="Text" is_generic="false" instance_name="文本输入框1"></mutation><field name="COMPONENT_SELECTOR">文本输入框1</field><field name="PROP">Text</field></block></value></block></value><statement name="DO0"><block type="component_method" id="QgtES,3,0U%kNZ#Cu|A8"><mutation component_type="Notifier" method_name="ShowAlert" is_generic="false" instance_name="对话框1"></mutation><field name="COMPONENT_SELECTOR">对话框1</field><value name="ARG0"><block type="text" id="M1KI?:%6jWj(VH8r2Iq4"><field name="TEXT">消息不能为空</field></block></value></block></statement><value name="IF1"><block type="logic_compare" id="%8A3JN!;4}9aQqa?y5Ac"><field name="OP">EQ</field><value name="A"><block type="component_set_get" id="+,royx)/N^5k]iCMego7"><mutation component_type="TextBox" set_or_get="get" property_name="Text" is_generic="false" instance_name="文本输入框1"></mutation><field name="COMPONENT_SELECTOR">文本输入框1</field><field name="PROP">Text</field></block></value><value name="B"><block type="text" id="[!P(C*Xgm^VXBm5M]jY9"><field name="TEXT">图片对话</field></block></value></block></value><statement name="DO1"><block type="controls_openAnotherScreen" id="t8]]U;elF:pU:.3^duBu"><value name="SCREEN"><block type="helpers_screen_names" id="!os9N;[Fym.:3U`Qkq~,"><field name="SCREEN">Screen2</field></block></value></block></statement><value name="IF2"><block type="logic_compare" id="Zagzjr60(xlJN[EF,}Iq"><field name="OP">EQ</field><value name="A"><block type="component_set_get" id="z[14xdnLK_b%9jEk:mbE"><mutation component_type="TextBox" set_or_get="get" property_name="Text" is_generic="false" instance_name="文本输入框1"></mutation><field name="COMPONENT_SELECTOR">文本输入框1</field><field name="PROP">Text</field></block></value><value name="B"><block type="text" id="av4Ie)V$EMQN#W9{VA8."><field name="TEXT">apikeys</field></block></value></block></value><statement name="DO2"><block type="component_method" id="ROXpZ6U(Wh:Dx/78I)%d"><mutation component_type="Notifier" method_name="ShowTextDialog" is_generic="false" instance_name="对话框1"></mutation><field name="COMPONENT_SELECTOR">对话框1</field><value name="ARG0"><block type="text" id="yVU38)k}cO]N`Z,1*%t_"><field name="TEXT">(慎用!)输入apikeys,解除限制</field></block></value><value name="ARG1"><block type="text" id="kwV{J/kn91wU#rZd7sd3"><field name="TEXT">(慎用!)输入apikeys</field></block></value><value name="ARG2"><block type="logic_boolean" id="[]F$f$K4ux}r?Kyo)_gU"><field name="BOOL">TRUE</field></block></value></block></statement><statement name="ELSE"><block type="component_method" id="@=oFb3Fqykjq-KS}]hNP"><mutation component_type="ChatBot" method_name="Converse" is_generic="false" instance_name="聊天机器人1"></mutation><field name="COMPONENT_SELECTOR">聊天机器人1</field><value name="ARG0"><block type="component_set_get" id="S~pOCV}+n%h6)9@((a3G"><mutation component_type="TextBox" set_or_get="get" property_name="Text" is_generic="false" instance_name="文本输入框1"></mutation><field name="COMPONENT_SELECTOR">文本输入框1</field><field name="PROP">Text</field></block></value></block></statement><next><block type="lists_add_items" id="YeBU{y?6p`*fKU;(^gWD"><mutation items="1"></mutation><value name="LIST"><block type="lexical_variable_get" id="FHq]xWkpo8^HGP%r@Qsg"><field name="VAR">global x</field></block></value><value name="ITEM0"><block type="component_set_get" id="Lf|,l`NBCcVan367huE9"><mutation component_type="TextBox" set_or_get="get" property_name="Text" is_generic="false" instance_name="文本输入框1"></mutation><field name="COMPONENT_SELECTOR">文本输入框1</field><field name="PROP">Text</field></block></value><next><block type="component_set_get" id="]e@dQjKzmjMV|83-5YXy"><mutation component_type="ListView" set_or_get="set" property_name="ElementsFromString" is_generic="false" instance_name="列表显示框1"></mutation><field name="COMPONENT_SELECTOR">列表显示框1</field><field name="PROP">ElementsFromString</field><value name="VALUE"><block type="lists_to_csv_row" id="{W{L0-OQV)(oMArsX#Q;"><value name="LIST"><block type="lexical_variable_get" id=";__/oC?)2]_a*kNxQc_o"><field name="VAR">global x</field></block></value></block></value><next><block type="component_set_get" id="@vFOe^JOml?*1*Fpw:ht"><mutation component_type="TextBox" set_or_get="set" property_name="Text" is_generic="false" instance_name="文本输入框1"></mutation><field name="COMPONENT_SELECTOR">文本输入框1</field><field name="PROP">Text</field><value name="VALUE"><block type="text" id="L5xI#sPC:{bF|3_DdU2|"><field name="TEXT"></field></block></value><next><block type="component_set_get" id="81:p:m{5]bbd)}=x5ee("><mutation component_type="LinearProgress" set_or_get="set" property_name="Visible" is_generic="false" instance_name="线性进度条1"></mutation><field name="COMPONENT_SELECTOR">线性进度条1</field><field name="PROP">Visible</field><value name="VALUE"><block type="logic_boolean" id="/[/sYmv9b,WWIp+m3g!^"><field name="BOOL">TRUE</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="component_event" id="Yf_|rnV7.z2#t9]X,qLW" collapsed="true" x="0" y="158"><mutation component_type="Notifier" is_generic="false" instance_name="对话框1" event_name="AfterTextInput"></mutation><field name="COMPONENT_SELECTOR">对话框1</field><statement name="DO"><block type="component_set_get" id="s1cVoJ4-.rH}@!Gjy{|w"><mutation component_type="ChatBot" set_or_get="set" property_name="ApiKey" is_generic="false" instance_name="聊天机器人1"></mutation><field name="COMPONENT_SELECTOR">聊天机器人1</field><field name="PROP">ApiKey</field><value name="VALUE"><block type="lexical_variable_get" id=".(v$_nLbWB{ev$)c^`#="><mutation><eventparam name="response"></eventparam></mutation><field name="VAR">response</field></block></value></block></statement></block><block type="component_event" id="LWfUYTYU+Q+3Bk^%O)^j" collapsed="true" x="0" y="210"><mutation component_type="ChatBot" is_generic="false" instance_name="聊天机器人1" event_name="ErrorOccurred"></mutation><field name="COMPONENT_SELECTOR">聊天机器人1</field><statement name="DO"><block type="controls_if" id="ARRIN#3s8e/juvaIHe.k"><mutation elseif="1" else="1"></mutation><value name="IF0"><block type="math_compare" id="bN$Fea*zkHfjv@*5KcUf"><field name="OP">EQ</field><value name="A"><block type="lexical_variable_get" id="2q/h$o@KX^tZR*wfq~7}"><mutation><eventparam name="responseCode"></eventparam></mutation><field name="VAR">responseCode</field></block></value><value name="B"><block type="math_number" id="1-tR0R$Vn]OJHnJFMP)J"><field name="NUM">404</field></block></value></block></value><statement name="DO0"><block type="component_method" id="USn?zZL6/xhgNO~h#4gz"><mutation component_type="Notifier" method_name="ShowAlert" is_generic="false" instance_name="对话框1"></mutation><field name="COMPONENT_SELECTOR">对话框1</field><value name="ARG0"><block type="text" id="^D{q5XCsYn~o3Hx;6-X!"><field name="TEXT">连接不到服务器,请稍侯1-2s</field></block></value></block></statement><value name="IF1"><block type="math_compare" id="%_0-#*{uA.oq7^fzp`d!"><field name="OP">EQ</field><value name="A"><block type="lexical_variable_get" id="}*D_}x_B.tM+%N8.THCi"><mutation><eventparam name="responseCode"></eventparam></mutation><field name="VAR">responseCode</field></block></value><value name="B"><block type="math_number" id="0nEes*r7e=djB}szK{^z"><field name="NUM">429</field></block></value></block></value><statement name="DO1"><block type="component_method" id="fD[V}iwn?;zSU!V6WwZx"><mutation component_type="Notifier" method_name="ShowAlert" is_generic="false" instance_name="对话框1"></mutation><field name="COMPONENT_SELECTOR">对话框1</field><value name="ARG0"><block type="text" id="Ajyy+#cv}K0xYk3Duxkf"><field name="TEXT">今日免费额度已用完,明天再来吧~</field></block></value></block></statement><statement name="ELSE"><block type="component_method" id="nszfLTE4=yLkTG!LW9%1"><mutation component_type="Notifier" method_name="ShowAlert" is_generic="false" instance_name="对话框1"></mutation><field name="COMPONENT_SELECTOR">对话框1</field><value name="ARG0"><block type="text" id="/}GQqU3Gj^F`=Le@j589"><field name="TEXT">未知错误!</field></block></value></block></statement></block></statement></block><block type="component_event" id="*QSv|[J-z`$+D4P6e))i" collapsed="true" x="0" y="262"><mutation component_type="ChatBot" is_generic="false" instance_name="聊天机器人1" event_name="GotResponse"></mutation><field name="COMPONENT_SELECTOR">聊天机器人1</field><statement name="DO"><block type="lists_add_items" id="yJ_@5}Ia:[HImcT`SEJr"><mutation items="1"></mutation><value name="LIST"><block type="lexical_variable_get" id="}Mt{62wxxP?Y{{HR}Az5"><field name="VAR">global x</field></block></value><value name="ITEM0"><block type="lexical_variable_get" id="UrpA?^l{.x/I`$.PuA*C"><mutation><eventparam name="responseText"></eventparam></mutation><field name="VAR">responseText</field></block></value><next><block type="component_set_get" id="a`_Rr%Up!kk9qIkzkb9P"><mutation component_type="ListView" set_or_get="set" property_name="ElementsFromString" is_generic="false" instance_name="列表显示框1"></mutation><field name="COMPONENT_SELECTOR">列表显示框1</field><field name="PROP">ElementsFromString</field><value name="VALUE"><block type="lists_to_csv_row" id="0GvM@jlPt26h?@2[iU!|"><value name="LIST"><block type="lexical_variable_get" id="7Plsp!@)Dixvtm;_COOf"><field name="VAR">global x</field></block></value></block></value><next><block type="component_set_get" id="43RYW|nQk@4(uN{|E5J$"><mutation component_type="LinearProgress" set_or_get="set" property_name="Visible" is_generic="false" instance_name="线性进度条1"></mutation><field name="COMPONENT_SELECTOR">线性进度条1</field><field name="PROP">Visible</field><value name="VALUE"><block type="logic_boolean" id="KPYSj1SFXyh4fa+,l6Fj"><field name="BOOL">FALSE</field></block></value></block></next></block></next></block></statement></block><yacodeblocks ya-version="229" language-version="36"></yacodeblocks></xml>